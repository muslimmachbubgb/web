<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kepala Sekolah</title>
    <link id="favicon" rel="icon" type="image/x-icon" href="https://kemendikdasmen.go.id/web/image/website/21/favicon?unique=c3563e4">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <!-- Library untuk PDF -->
    <script src="https://unpkg.com/jspdf@latest/dist/jspdf.umd.min.js"></script>
    <script src="https://unpkg.com/jspdf-autotable@3.8.2/dist/jspdf.plugin.autotable.js"></script>
    <!-- Library untuk Grafik -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --primary-color: #4F46E5; --secondary-color: #6B7280; --success-color: #10B981;
            --danger-color: #EF4444; --warning-color: #F59E0B; --info-color: #3B82F6;
            --light-color: #F9FAFB; --dark-color: #1F2937; --background-color: #F3F4F6;
            --text-color: #111827; --card-bg-color: #ffffff; --shadow: 0 4px 15px rgba(0, 0, 0, 0.07);
            --border-radius: 12px;
        }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { font-family: 'Poppins', sans-serif; background-color: var(--background-color); color: var(--text-color); line-height: 1.6; }
        
        /* === LOGIN STYLES === */
        #login-container {
            display: flex; justify-content: center; align-items: center; min-height: 100vh;
            padding: 20px; box-sizing: border-box;
            background: linear-gradient(135deg, var(--dark-color), #4338CA);
        }
        .login-card {
            background: rgba(255, 255, 255, 0.98); backdrop-filter: blur(10px);
            border-radius: 20px; padding: 40px; width: 100%; max-width: 450px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.1);
            text-align: center;
        }
        .login-card h2 { font-size: 28px; font-weight: 700; margin: 0 0 10px 0; color: var(--dark-color); }
        .login-card p { color: var(--secondary-color); font-size: 16px; margin-bottom: 30px; }
        #loginForm .form-group { position: relative; margin-bottom: 25px; }
        #loginForm .form-group label {
            position: absolute; top: 15px; left: 15px; color: var(--secondary-color);
            pointer-events: none; transition: all 0.3s ease; padding: 0 5px; background: none;
        }
        #loginForm .form-group input {
            width: 100%; padding: 15px; box-sizing: border-box; border-radius: 8px;
            border: 1px solid #ced4da; background: #fff; font-size: 14px;
        }
        #loginForm .form-group input:focus {
            outline: none; border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.2);
        }
        #loginForm .form-group input:focus + label, #loginForm .form-group input:not(:placeholder-shown) + label {
            top: -10px; left: 10px; font-size: 12px; color: var(--primary-color);
            background: var(--card-bg-color);
        }
        #loginButton {
             width: 100%; background: linear-gradient(45deg, var(--info-color), var(--primary-color));
             color: white; padding: 16px 30px; border: none; border-radius: 8px;
             font-size: 16px; font-weight: 600; cursor: pointer; transition: all 0.3s ease;
             box-shadow: 0 4px 20px rgba(59, 130, 246, 0.4);
        }
        #loginButton:hover { transform: translateY(-3px); box-shadow: 0 7px 25px rgba(59, 130, 246, 0.5); }
        #loginButton:disabled { background: #adb5bd; cursor: not-allowed; }

        .home-link {
            font-size: 28px;
            color: var(--secondary-color);
            text-decoration: none;
            transition: all 0.2s ease-in-out;
            display: inline-block; /* for transform to work */
        }

        .home-link:hover {
            color: var(--primary-color);
            transform: scale(1.1);
        }

        /* === DASHBOARD STYLES === */
        #dashboard-container { display: flex; }
        .sidebar { width: 260px; background-color: var(--dark-color); color: #E5E7EB; display: flex; flex-direction: column; height: 100vh; position: fixed; }
        .sidebar-header { padding: 25px; text-align: center; border-bottom: 1px solid #374151; }
        .sidebar-header h2 { font-size: 24px; color: white; }
        .sidebar-nav { flex-grow: 1; margin-top: 20px;}
        .sidebar-nav a { display: flex; align-items: center; gap: 15px; color: #D1D5DB; text-decoration: none; padding: 18px 25px; font-weight: 500; transition: background-color 0.2s, color 0.2s; border-left: 4px solid transparent; }
        .sidebar-nav a:hover { background-color: #374151; color: white; }
        .sidebar-nav a.active { background-color: #4F46E5; color: white; border-left-color: var(--info-color); }
        .sidebar-footer { padding: 20px 25px; border-top: 1px solid #374151;}

        .main-content { margin-left: 260px; width: calc(100% - 260px); padding: 30px; }
        .page { display: none; }
        .page.active { display: block; }
        .page-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px; flex-wrap: wrap; gap: 15px;}
        .page-header h1 { font-size: 32px; font-weight: 700; }
        .page-header-actions { display: flex; gap: 10px; flex-wrap: wrap; }
        .btn { padding: 10px 20px; border: none; cursor: pointer; font-size: 15px; font-weight: 500; border-radius: 8px; transition: all 0.2s; display: inline-flex; align-items: center; gap: 8px; }
        .btn-primary { background-color: var(--primary-color); color: white; } .btn-primary:hover { background-color: #4338CA; }
        .btn-success { background-color: var(--success-color); color: white; } .btn-success:hover { background-color: #059669; }
        .btn-danger { background-color: var(--danger-color); color: white; } .btn-danger:hover { background-color: #d13838; }
        .card { background-color: var(--card-bg-color); padding: 25px; border-radius: var(--border-radius); box-shadow: var(--shadow); margin-bottom: 30px; }
        .table-wrapper { overflow-x: auto; max-height: 70vh; }
        table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        th, td { padding: 12px 15px; border-bottom: 1px solid #E5E7EB; text-align: left; white-space: nowrap;}
        th { background-color: var(--light-color); font-weight: 600; position: sticky; top: 0; z-index: 1;}
        td.text-center { text-align: center; }
        .filters-container { display: flex; flex-wrap: wrap; gap: 20px; align-items: center; margin-bottom: 25px; }
        .filter-group { display: flex; align-items: center; gap: 10px; }
        .filter-group label { font-weight: 500; }
        .filter-group input, .filter-group select { padding: 8px 12px; border-radius: 8px; border: 1px solid #D1D5DB; }
        .chart-container { position: relative; height:60vh; width:100%; margin-top:20px;}
        
        #kesimpulan-content { font-size: 1.1em; line-height: 1.8; }
        #ibadah-charts-container, #waktu-charts-container, #kegiatan-charts-container, #belajar-makanan-charts-container { display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 25px; }
        .chart-wrapper { position: relative; height: 40vh; }
        
        .modal { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.6); align-items: center; justify-content: center; animation: fadeIn 0.3s; }
        .modal.show { display: flex; }
        .modal-content { background-color: var(--card-bg-color); padding: 30px; border-radius: var(--border-radius); width: 90%; max-width: 500px; box-shadow: var(--shadow); animation: slideIn 0.3s; }
        .modal-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; border-bottom: 1px solid #eee; padding-bottom: 15px; }
        .modal-header h3 { margin: 0; font-size: 1.3em; }
        .modal-header .close { font-size: 32px; font-weight: bold; cursor: pointer; color: #aaa; transition: color 0.2s; }
        .modal-header .close:hover { color: var(--danger-color); }
        .modal-body .form-group { margin-bottom: 15px; }
        .modal-body label { font-weight: 600; }
        .modal-body .form-info { background-color: #f8f9fa; padding: 10px; border-radius: 8px; border: 1px solid #e9ecef; }
        .modal-footer { text-align: right; margin-top: 25px; }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes slideIn { from { transform: translateY(-30px); } to { transform: translateY(0); } }

        .status-icon { font-size: 1.5em; cursor: pointer; transition: transform 0.2s; }
        .status-icon:hover { transform: scale(1.2); }
        .text-success { color: var(--success-color); }
        .text-warning { color: var(--warning-color); }
        .text-danger { color: var(--danger-color); }
        .text-info { color: var(--info-color); }
        .text-secondary { color: var(--secondary-color); }
        .text-muted { color: #adb5bd; }

        .form-group label { display: block; font-weight: 500; margin-bottom: 5px; font-size: 0.9em; }
        .form-group input, .form-group select, .form-group textarea { width: 100%; padding: 10px 12px; border-radius: 8px; border: 1px solid #D1D5DB; transition: border-color 0.2s, box-shadow 0.2s; }
        .form-group input:focus, .form-group select:focus, .form-group textarea:focus { border-color: var(--primary-color); box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1); outline: none;}
        textarea { resize: vertical; }
    </style>
</head>
<body>
    <div id="login-container">
        <div class="login-card">
            <h2>Login Kepala Sekolah</h2>
            <p>Masukkan username dan NIP Anda.</p>
            <form id="loginForm">
                <div class="form-group">
                    <input type="text" id="username" placeholder=" " required autocomplete="off">
                    <label for="username">Username</label>
                </div>
                <div class="form-group">
                    <input type="password" id="password" placeholder=" " required>
                    <label for="password">NIP</label>
                </div>
                <button type="submit" id="loginButton">Login</button>
				<a href="index.html" class="home-link" title="Kembali ke Beranda"><i class="fas fa-home"></i></a>
            </form>
        </div>
    </div>

    <div id="dashboard-container" style="display: none;">
        <aside class="sidebar">
            <div class="sidebar-header"><h2>Dashboard Kepsek</h2></div>
            <nav class="sidebar-nav">
                <a href="#" class="nav-link active" data-page="page-data"><i class="fas fa-chart-bar"></i> Data 7 KAIH</a>
                <a href="#" class="nav-link" data-page="page-analisis"><i class="fas fa-search-plus"></i> Analisis Rincian</a>
                <a href="#" class="nav-link" data-page="page-kesimpulan"><i class="fas fa-lightbulb"></i> Kesimpulan</a>
                <a href="#" class="nav-link" data-page="page-supervisi"><i class="fas fa-user-shield"></i> Supervisi Guru</a>
            </nav>
            <div class="sidebar-footer">
                <button class="btn btn-danger" id="logoutButton" style="width: 100%;"><i class="fas fa-sign-out-alt"></i> Logout</button>
            </div>
        </aside>

        <main class="main-content">
            <div class="page-header">
                <h1 id="pageTitle">Dashboard Analisis 7KAIH</h1>
                <div id="page-actions-container" class="page-header-actions">
                    <button class="btn btn-success" onclick="downloadGlobalRekapPDF()"><i class="fas fa-file-pdf"></i> Download Laporan</button>
                </div>
            </div>
            
            <div id="filter-card" class="card">
                 <div class="filters-container">
                    <div class="filter-group">
                        <label for="startDate">Dari:</label> <input type="date" id="startDate">
                        <label for="endDate">Sampai:</label> <input type="date" id="endDate">
                    </div>
                    <div class="filter-group">
                         <label for="kelasFilter">Kelas:</label> <select id="kelasFilter"></select>
                    </div>
                     <button class="btn btn-primary" onclick="applyAndRenderAll()"><i class="fas fa-filter"></i> Terapkan Filter</button>
                 </div>
            </div>
            
            <div id="page-data" class="page active">
                <div class="card"><h2 style="font-size: 20px; font-weight: 600;">Grafik Predikat Global</h2><div class="chart-container"><canvas id="globalChart"></canvas></div></div>
                <div class="card"><h2 style="font-size: 20px; font-weight: 600;">Rekap Predikat Dominan Per Kelas</h2><div class="table-wrapper"><table id="globalRekapTable"></table></div></div>
                <div class="card"><h2 style="font-size: 20px; font-weight: 600;">Persentase Perolehan Setiap Kategori</h2><div class="table-wrapper"><table id="percentageTable"></table></div></div>
            </div>

            <div id="page-analisis" class="page">
                <div class="card"><h2 style="font-size: 20px; font-weight: 600;">Rincian Data Laporan Siswa</h2><div class="table-wrapper"><table id="analisisLaporanTable"></table></div></div>
                <div class="card"><h2 style="font-size: 20px; font-weight: 600;">Grafik Persentase Pelaksanaan Ibadah</h2><div id="ibadah-charts-container" style="margin-top:20px;"></div></div>
                <div class="card"><h2 style="font-size: 20px; font-weight: 600;">Grafik Bangun Pagi dan Tidur Cepat</h2><div id="waktu-charts-container" style="margin-top:20px;"></div></div>
                <div class="card"><h2 style="font-size: 20px; font-weight: 600;">Grafik Berolahraga dan Bermasyarakat</h2><div id="kegiatan-charts-container" style="margin-top:20px;"></div></div>
                <div class="card"><h2 style="font-size: 20px; font-weight: 600;">Grafik Belajar dan Makanan Sehat</h2><div id="belajar-makanan-charts-container" style="margin-top:20px;"></div></div>
            </div>
            
            <div id="page-kesimpulan" class="page"><div class="card"><h2 style="font-size: 20px; font-weight: 600;">Ringkasan dan Kesimpulan</h2><div id="kesimpulan-content" style="margin-top:20px;">Memuat kesimpulan...</div></div></div>

            <div id="page-supervisi" class="page">
                <div class="card"><div class="filters-container"><div class="filter-group"><label for="guruFilter">Filter Guru:</label><select id="guruFilter" onchange="filterSupervisiTable()"></select></div></div></div>
                <div id="supervisi-content"></div>
            </div>
        </main>
    </div>

    <div id="infoModal" class="modal"><div class="modal-content"><div class="modal-header"><h3 id="infoModalTitle">Pemberitahuan</h3><span class="close" onclick="closeModal('infoModal')">&times;</span></div><div style="padding: 20px 5px;"><p id="infoModalMessage"></p></div></div></div>
    
    <!-- Modal Administrasi -->
    <div id="admModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="admModalTitle">Penilaian Administrasi</h3>
                <span class="close" onclick="closeModal('admModal')">&times;</span>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label>Dokumen dari Guru</label>
                    <div id="admModalLink" class="form-info"></div>
                </div>
                <div class="form-group">
                    <label for="admModalStatus">Status Penilaian</label>
                    <select id="admModalStatus">
                        <option value="Belum Diperiksa">Belum Diperiksa</option>
                        <option value="Disetujui">Disetujui</option>
                        <option value="Diperbaiki">Diperbaiki</option>
                        <option value="Ditolak">Ditolak</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="admModalKomentar">Komentar / Catatan</label>
                    <textarea id="admModalKomentar" rows="3" placeholder="Berikan masukan untuk guru..."></textarea>
                </div>
            </div>
            <div class="modal-footer">
                <button id="admModalSaveButton" class="btn btn-primary"><i class="fas fa-save"></i> Simpan Penilaian</button>
            </div>
        </div>
    </div>

    <!-- Modal Supervisi -->
    <div id="supervisiModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="supervisiModalTitle">Penilaian Supervisi</h3>
                <span class="close" onclick="closeModal('supervisiModal')">&times;</span>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label>Link dari Guru</label>
                    <div id="supervisiModalLinks" class="form-info"></div>
                </div>
                <div class="form-group">
                    <label for="supervisiModalTanggal">Tanggal Pelaksanaan</label>
                    <input type="date" id="supervisiModalTanggal">
                </div>
                <div class="form-group">
                    <label for="supervisiModalNilai">Nilai</label>
                    <input type="number" id="supervisiModalNilai" placeholder="Masukkan nilai...">
                </div>
                <div class="form-group">
                    <label for="supervisiModalKomentar">Komentar / Catatan</label>
                    <textarea id="supervisiModalKomentar" rows="3" placeholder="Berikan masukan untuk guru..."></textarea>
                </div>
            </div>
            <div class="modal-footer">
                <button id="supervisiModalSaveButton" class="btn btn-primary"><i class="fas fa-save"></i> Simpan Penilaian</button>
            </div>
        </div>
    </div>

    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    
    <script>
	const _0x333291=_0x2a01;(function(_0x2529c2,_0x3a0d2c){const _0x1d8ce8=_0x2a01,_0x364a3d=_0x2529c2();while(!![]){try{const _0x3e7cfa=-parseInt(_0x1d8ce8(0x1aa))/0x1+-parseInt(_0x1d8ce8(0x1eb))/0x2*(-parseInt(_0x1d8ce8(0x20f))/0x3)+-parseInt(_0x1d8ce8(0x257))/0x4*(-parseInt(_0x1d8ce8(0x1db))/0x5)+-parseInt(_0x1d8ce8(0x261))/0x6+-parseInt(_0x1d8ce8(0x28a))/0x7*(-parseInt(_0x1d8ce8(0x2b6))/0x8)+parseInt(_0x1d8ce8(0x1b1))/0x9*(parseInt(_0x1d8ce8(0x29b))/0xa)+parseInt(_0x1d8ce8(0x1de))/0xb*(-parseInt(_0x1d8ce8(0x1e2))/0xc);if(_0x3e7cfa===_0x3a0d2c)break;else _0x364a3d['push'](_0x364a3d['shift']());}catch(_0x5eecd7){_0x364a3d['push'](_0x364a3d['shift']());}}}(_0x3182,0xd34a7));const firebaseConfig={'apiKey':'AIzaSyAMsXLSkmpMdcDADfj7098BWSwWBwvQjHY','authDomain':_0x333291(0x1f5),'projectId':'muslim-mackbook','storageBucket':_0x333291(0x27c),'messagingSenderId':'244455418239','appId':_0x333291(0x23e)};!firebase[_0x333291(0x212)][_0x333291(0x231)]&&firebase[_0x333291(0x1ce)](firebaseConfig);const db=firebase[_0x333291(0x243)]();let globalSettings={},allLaporanData=[],allGuruData=[],allGuruAdmData={},allGuruSupervisiData={},dataLoaded=![],chartInstances={};const loginContainer=document[_0x333291(0x1ad)](_0x333291(0x242)),dashboardContainer=document[_0x333291(0x1ad)]('dashboard-container'),loginForm=document[_0x333291(0x1ad)](_0x333291(0x20c)),loginButton=document[_0x333291(0x1ad)](_0x333291(0x26b)),logoutButton=document[_0x333291(0x1ad)](_0x333291(0x1ba)),navLinks=document[_0x333291(0x266)](_0x333291(0x25f));navLinks[_0x333291(0x28e)](_0x15b47a=>_0x15b47a[_0x333291(0x1f4)](_0x333291(0x281),_0x2fa207=>{const _0x52efe7=_0x333291;_0x2fa207[_0x52efe7(0x1ae)](),navigateTo(_0x15b47a[_0x52efe7(0x1af)][_0x52efe7(0x286)]);}));function _0x3182(){const _0x298336=['waktu-charts-container','<p>Tidak\x20ada\x20data\x20laporan\x20untuk\x20ditampilkan.</p>','\x22\x20target=\x22_blank\x22\x20rel=\x22noopener\x20noreferrer\x22>Lihat\x20Foto\x20<i\x20class=\x22fas\x20fa-external-link-alt\x20fa-xs\x22></i></a>','<option\x20value=\x22\x22>Semua\x20Guru</option>','%\x20\x27Perlu\x20Peningkatan\x27).</p>','Memverifikasi...','taatValue','insertRow','Guru\x20belum\x20menginput\x20link.','bermasyarakat','Melaksanakan','rgba(153,\x20102,\x20255,\x200.7)','guruFilter','active','administrasi_guru','page-supervisi','Kelas','supervisiModal','setHours','<tr><td\x20colspan=\x224\x22\x20class=\x22text-center\x22>Tidak\x20ada\x20data.</td></tr>','Tidak','ibadah7','\x20siswa)','insertCell','fas\x20fa-search\x20text-secondary','342084oaXAhg','className','isKepsekLoggedIn','getElementById','preventDefault','dataset','makananLauk','5028147cwdKuP','rgba(255,\x20159,\x2064,\x200.7)','Kegiatan\x20Belajar','fas\x20fa-times-circle\x20text-danger','clear','options','docs','pageSize','taat','logoutButton','get','</tr></thead><tbody>','namaSiswa','supervisiModalTanggal','Belum\x20ada\x20link\x20dokumen.','Makan\x20Bergizi','Administrasi:\x20','Tidak\x20Tepat','Login','N/A','trim','href','Beribadah','Belum\x20Diperiksa','materiBelajar','querySelector','error','percentageTable','ibadah5','initializeApp','desc','supervisi_guru','disabled','admModalKomentar','filter','innerHTML','Lauk\x20Pauk','Terbiasa','timestamp','\x27)\x22></i></td>','<tr\x20data-nip=\x22','fas\x20fa-exclamation-circle\x20text-muted','5oyPIkf','value','rgba(201,\x20203,\x20207,\x200.7)','1624755XnXTiX','\x22\x20class=\x22text-center\x22>Tidak\x20ada\x20data\x20laporan\x20untuk\x20filter\x20yang\x20dipilih.</td></tr>','<th>','center','108nmsylA','komentar','<a\x20href=\x22','fas\x20fa-edit\x20text-warning','waktu','Ditolak','Ibadah\x204','Perubahan\x20administrasi\x20disimpan!','kelasFilter','2941366NgAKWk','supervisiModalNilai','infoSekolah','Jumlah\x20Laporan','tanggalKegiatan','globalChart','collection','admModalSaveButton','onclick','addEventListener','muslim-mackbook.firebaseapp.com','admModal','setFontSize','Masyarakat','#supervisi-content\x20table','Peringatan','05:00','orderBy','users','favicon','password','rgba(239,\x2068,\x2068,\x200.7)','username','text','Makanan\x20Sehat','destroy','Perlu\x20Perbaikan','Username\x20dan\x20NIP\x20tidak\x20boleh\x20kosong.','empty','Tidur\x20Cepat','exists','<p>Tidak\x20ada\x20data.</p>','Bangun\x20Pagi','loginForm','Dokumen\x20guru\x20tidak\x20ditemukan.\x20Guru\x20harus\x20menginput\x20URL\x20terlebih\x20dahulu\x20sebelum\x20dinilai.','\x20status-icon\x22\x20title=\x22','3vXTogi','substring','remove','apps','</th>','includes','pageTitle','textContent','keys','terbiasaValue','<div\x20class=\x22card\x22><h2><i\x20class=\x22fas\x20fa-chalkboard-teacher\x22></i>\x20Supervisi\x20Kelas</h2><div\x20class=\x22table-wrapper\x22><table\x20id=\x22supervisiTable\x22><thead><tr><th>Guru</th>','startDate','rgba(255,\x20205,\x2086,\x200.7)','tanggal','Login\x20error:','\x20s/d\x20','<div\x20class=\x22card\x20text-center\x22><p>Memuat\x20data\x20supervisi...</p></div>','Susu','Anak\x20Hebat','\x22\x20target=\x22_blank\x22\x20rel=\x22noopener\x20noreferrer\x22>Lihat\x20Dokumen\x20<i\x20class=\x22fas\x20fa-external-link-alt\x20fa-xs\x22></i></a>','jspdf','Sudah\x20dinilai:\x20','Password\x20(NIP)\x20salah.','ibadah6','#percentageTable','Karbo','Kegiatan\x20Bermasyarakat','makananSayur','Data\x20supervisi\x20baru\x20berhasil\x20dibuat!','</tbody></table></div></div>','olahraga','infoModal','data','rgba(75,\x20192,\x20192,\x200.7)','length','ibadah4','infoModalMessage','\x20siswa</strong>:</p><p><strong>Kategori\x20Terbaik:</strong>\x20<strong>','Sukses','Sayur/Buah','<td\x20class=\x22text-center\x22><i\x20class=\x22','beribadah','nip','</strong>\x20(','url','supervisiSettings','makananSusu','1:244455418239:web:d9fd56500f666466aa124a','belajar','Olahraga','page-actions-container','login-container','firestore','supervisi-content','fas\x20fa-check-circle\x20text-success','flex','21:00','terbiasaText','<tr><td\x20colspan=\x22','getContext','pie','analisisLaporanTable','display','canvas','logo','rincianOlahraga','</tr>','Semua\x20Sekolah','status','Nama\x20Siswa','message','setItem','1996840dyQugo','Belajar','.page','rgba(54,\x20162,\x20235,\x200.7)','update','boolean','Ibadah\x201','title','.nav-link','now','1711698tMsPRD','join','Tepat\x20Waktu','.pdf','sort','querySelectorAll','aktif','div','\x22\x20onclick=\x22openSupervisiModal(\x27','toFixed','loginButton','\x22\x20target=\x22_blank\x22\x20rel=\x22noopener\x20noreferrer\x22>Lihat\x20Dokumen\x20dari\x20','Error','#globalRekapTable','makanan','style','supervisiModalSaveButton','makanBergizi','urlDokumen','kurang','.komentar','Ibadah\x206','Periode:\x20','none','Perlu\x20Peningkatan','save','autoTable','muslim-mackbook.firebasestorage.app','Gagal\x20menyimpan:\x20','ibadah1','Memuat\x20data,\x20mohon\x20tunggu...','endDate','click','createElement','makananAir','limit','Username\x20tidak\x20ditemukan.','page','code','key','where','7SxNUJH','kegiatan-charts-container','kurangText','makananKarbo','forEach','admModalLink','localeCompare','appendChild','values','Revisi','true','all','.nav-link[data-page=\x22','taatText','reload','kegiatanMasyarakat','chart-wrapper','10WkoSmO','Analisis\x20Bangun\x20Pagi','\x22\x20onclick=\x22openAdmModal(\x27','internal','urlFoto','Ibadah\x207','<p>Tidak\x20ada\x20data\x20yang\x20cukup\x20untuk\x20membuat\x20kesimpulan.</p>','admModalTitle','labels','set','ibadah-charts-container','label','nama','add','bar','.tanggal','<thead><tr>','<div\x20class=\x22card\x22><h2><i\x20class=\x22fas\x20fa-folder-open\x22></i>\x20Supervisi\x20Administrasi</h2><div\x20class=\x22table-wrapper\x22><table\x20id=\x22admTable\x22><thead><tr><th>Guru</th>','role','doughnut','bangunPagi','push','classList','ibadah2','<br>','Informasi','supervisiModalKomentar','2348664IuCSyB','Bermasyarakat','tempatBelajar','Supervisi:\x20','Kategori','block','nilai','Guru','top','then','tbody','totalHari','global','</tr></thead><tbody></tbody>','map','doc','getWidth','Login\x20Gagal','\x20-\x20','.nilai','Perubahan\x20supervisi\x20disimpan!','previous','getItem','page-data','Belum\x20ada\x20link','admModalStatus','\x27,\x20\x27','laporan','rgba(245,\x20158,\x2011,\x200.7)','%\x20(','Tidak\x20Melaksanakan','tidurCepat','fas\x20fa-stamp\x20text-success','kelas','Air\x20Putih','ibadah','Siap\x20dinilai'];_0x3182=function(){return _0x298336;};return _0x3182();}function navigateTo(_0x542d8d){const _0x563541=_0x333291;document['querySelectorAll'](_0x563541(0x259))['forEach'](_0x4a1390=>_0x4a1390[_0x563541(0x2b1)][_0x563541(0x211)]('active')),document['getElementById'](_0x542d8d)[_0x563541(0x2b1)][_0x563541(0x2a8)](_0x563541(0x19e)),navLinks[_0x563541(0x28e)](_0xf8050b=>_0xf8050b['classList'][_0x563541(0x211)](_0x563541(0x19e)));const _0x2e11e4=document['querySelector'](_0x563541(0x296)+_0x542d8d+'\x22]');_0x2e11e4['classList']['add']('active'),document[_0x563541(0x1ad)](_0x563541(0x215))[_0x563541(0x216)]=_0x2e11e4[_0x563541(0x216)][_0x563541(0x1c5)]();const _0xb204ea=_0x542d8d===_0x563541(0x1a0);document[_0x563541(0x1ad)]('filter-card')[_0x563541(0x270)][_0x563541(0x24d)]=_0xb204ea?_0x563541(0x278):_0x563541(0x2bb),document[_0x563541(0x1ad)](_0x563541(0x241))[_0x563541(0x270)][_0x563541(0x24d)]=_0xb204ea?'none':'flex',_0xb204ea&&ensureDataLoaded()[_0x563541(0x2bf)](renderSupervisiGuru);}function openModal(_0x3d68a4){const _0x5173b4=_0x333291;document[_0x5173b4(0x1ad)](_0x3d68a4)[_0x5173b4(0x2b1)][_0x5173b4(0x2a8)]('show');}function closeModal(_0x388b09){const _0x14581a=_0x333291;document['getElementById'](_0x388b09)[_0x14581a(0x2b1)][_0x14581a(0x211)]('show');}function showInfoModal(_0x14ceb9,_0x2d3bc2='Pemberitahuan'){const _0x9211b6=_0x333291;document[_0x9211b6(0x1ad)]('infoModalTitle')[_0x9211b6(0x216)]=_0x2d3bc2,document['getElementById'](_0x9211b6(0x233))[_0x9211b6(0x216)]=_0x14ceb9,openModal(_0x9211b6(0x22e));}async function handleLogin(_0x4fdbae,_0x74b91a){const _0x1ee5a6=_0x333291;loginButton[_0x1ee5a6(0x1d1)]=!![],loginButton[_0x1ee5a6(0x216)]=_0x1ee5a6(0x196);try{const _0x2bc86a=await db[_0x1ee5a6(0x1f1)](_0x1ee5a6(0x1fd))[_0x1ee5a6(0x289)](_0x1ee5a6(0x201),'==',_0x4fdbae)[_0x1ee5a6(0x284)](0x1)['get']();if(_0x2bc86a[_0x1ee5a6(0x207)])throw new Error(_0x1ee5a6(0x285));const _0x2b706f=_0x2bc86a[_0x1ee5a6(0x1b7)][0x0][_0x1ee5a6(0x22f)]();if(_0x74b91a===_0x2b706f['nip']){if(_0x2b706f[_0x1ee5a6(0x2ad)]!=='Kepsek')throw new Error('Anda\x20tidak\x20memiliki\x20akses\x20sebagai\x20Kepala\x20Sekolah.');sessionStorage[_0x1ee5a6(0x256)](_0x1ee5a6(0x1ac),_0x1ee5a6(0x294)),loginContainer[_0x1ee5a6(0x270)][_0x1ee5a6(0x24d)]=_0x1ee5a6(0x278),dashboardContainer[_0x1ee5a6(0x270)][_0x1ee5a6(0x24d)]=_0x1ee5a6(0x246),navigateTo(_0x1ee5a6(0x2cd)),showInfoModal(_0x1ee5a6(0x27f),_0x1ee5a6(0x2b4)),await ensureDataLoaded(),applyAndRenderAll(),closeModal(_0x1ee5a6(0x22e));}else throw new Error(_0x1ee5a6(0x225));}catch(_0x1dde87){console[_0x1ee5a6(0x1cb)](_0x1ee5a6(0x21d),_0x1dde87),showInfoModal(_0x1dde87['message'],_0x1ee5a6(0x2c7));}finally{loginButton[_0x1ee5a6(0x1d1)]=![],loginButton[_0x1ee5a6(0x216)]=_0x1ee5a6(0x1c3);}}loginForm[_0x333291(0x1f4)]('submit',_0x4f676f=>{const _0x4badbe=_0x333291;_0x4f676f[_0x4badbe(0x1ae)]();const _0x24cc34=document['getElementById']('username')[_0x4badbe(0x1dc)]['trim'](),_0x1377a=document[_0x4badbe(0x1ad)](_0x4badbe(0x1ff))['value']['trim']();if(_0x24cc34&&_0x1377a)handleLogin(_0x24cc34,_0x1377a);else showInfoModal(_0x4badbe(0x206),_0x4badbe(0x1fa));}),logoutButton[_0x333291(0x1f4)]('click',_0x2fcaa0=>{const _0xd557eb=_0x333291;_0x2fcaa0['preventDefault'](),sessionStorage[_0xd557eb(0x1b5)](),window['location'][_0xd557eb(0x298)]();}),window['onload']=async()=>{const _0x31a12e=_0x333291;sessionStorage[_0x31a12e(0x2cc)](_0x31a12e(0x1ac))===_0x31a12e(0x294)?(loginContainer[_0x31a12e(0x270)][_0x31a12e(0x24d)]=_0x31a12e(0x278),dashboardContainer['style'][_0x31a12e(0x24d)]=_0x31a12e(0x246),navigateTo(_0x31a12e(0x2cd)),showInfoModal(_0x31a12e(0x27f),_0x31a12e(0x2b4)),await ensureDataLoaded(),applyAndRenderAll(),closeModal(_0x31a12e(0x22e))):(loginContainer[_0x31a12e(0x270)][_0x31a12e(0x24d)]=_0x31a12e(0x246),dashboardContainer[_0x31a12e(0x270)]['display']=_0x31a12e(0x278));};async function ensureDataLoaded(){const _0x3a3a48=_0x333291;if(dataLoaded)return;try{const _0x5c977d=await db[_0x3a3a48(0x1f1)]('pengaturan')[_0x3a3a48(0x2c5)]('global')[_0x3a3a48(0x1bb)]();_0x5c977d[_0x3a3a48(0x209)]&&(globalSettings=_0x5c977d[_0x3a3a48(0x22f)](),globalSettings[_0x3a3a48(0x1ed)]&&globalSettings[_0x3a3a48(0x1ed)][_0x3a3a48(0x24f)]&&(document[_0x3a3a48(0x1ad)](_0x3a3a48(0x1fe))[_0x3a3a48(0x1c6)]=globalSettings['infoSekolah']['logo']));const [_0x3783b7,_0x12c181,_0x30a739,_0x252210]=await Promise[_0x3a3a48(0x295)]([db[_0x3a3a48(0x1f1)](_0x3a3a48(0x2d1))[_0x3a3a48(0x1fc)](_0x3a3a48(0x1d7),_0x3a3a48(0x1cf))[_0x3a3a48(0x1bb)](),db[_0x3a3a48(0x1f1)](_0x3a3a48(0x1fd))[_0x3a3a48(0x289)](_0x3a3a48(0x2ad),'==',_0x3a3a48(0x2bd))[_0x3a3a48(0x1bb)](),db[_0x3a3a48(0x1f1)](_0x3a3a48(0x19f))['get'](),db[_0x3a3a48(0x1f1)](_0x3a3a48(0x1d0))['get']()]);allLaporanData=_0x3783b7['docs'][_0x3a3a48(0x2c4)](_0x5f1a08=>_0x5f1a08[_0x3a3a48(0x22f)]()),allGuruData=_0x12c181[_0x3a3a48(0x1b7)][_0x3a3a48(0x2c4)](_0x1e7ca3=>({'id':_0x1e7ca3['id'],..._0x1e7ca3[_0x3a3a48(0x22f)]()})),_0x30a739['forEach'](_0x36ff1a=>{const _0x444bb9=_0x3a3a48;allGuruAdmData[_0x36ff1a['id']]=_0x36ff1a[_0x444bb9(0x22f)]();}),_0x252210[_0x3a3a48(0x28e)](_0x15baba=>{const _0x1326ad=_0x3a3a48;allGuruSupervisiData[_0x15baba['id']]=_0x15baba[_0x1326ad(0x22f)]();});const _0x382e65=new Set(allLaporanData[_0x3a3a48(0x2c4)](_0x24cd2b=>_0x24cd2b[_0x3a3a48(0x18d)])[_0x3a3a48(0x1d3)](Boolean)),_0x4fcf10=[..._0x382e65][_0x3a3a48(0x265)](),_0x255a1b=document[_0x3a3a48(0x1ad)](_0x3a3a48(0x1ea));_0x255a1b['innerHTML']='<option\x20value=\x22\x22>Semua\x20Kelas</option>',_0x4fcf10[_0x3a3a48(0x28e)](_0x511d3a=>{_0x255a1b['add'](new Option(_0x511d3a,_0x511d3a));});const _0x41751f=document[_0x3a3a48(0x1ad)](_0x3a3a48(0x19d));_0x41751f[_0x3a3a48(0x1b6)][_0x3a3a48(0x231)]<=0x1&&(_0x41751f['innerHTML']=_0x3a3a48(0x194),allGuruData['sort']((_0x4f674b,_0x582d53)=>_0x4f674b[_0x3a3a48(0x2a7)][_0x3a3a48(0x290)](_0x582d53[_0x3a3a48(0x2a7)]))[_0x3a3a48(0x28e)](_0xf741de=>_0x41751f[_0x3a3a48(0x2a8)](new Option(_0xf741de[_0x3a3a48(0x2a7)],_0xf741de['nip'])))),dataLoaded=!![];}catch(_0x43b5b1){showInfoModal('Gagal\x20memuat\x20data\x20awal:\x20'+_0x43b5b1[_0x3a3a48(0x255)],_0x3a3a48(0x26d));}}function applyAndRenderAll(){const _0x22db9a=_0x333291;if(!dataLoaded)return;const _0x5f4e57=document[_0x22db9a(0x1ad)](_0x22db9a(0x21a))[_0x22db9a(0x1dc)],_0x58bb89=document[_0x22db9a(0x1ad)](_0x22db9a(0x280))['value'],_0x307be4=document[_0x22db9a(0x1ad)](_0x22db9a(0x1ea))[_0x22db9a(0x1dc)];let _0x11b2c8=[...allLaporanData];if(_0x5f4e57&&_0x58bb89){const _0x2c5d73=new Date(_0x5f4e57),_0x1e2da8=new Date(_0x58bb89);_0x1e2da8[_0x22db9a(0x1a3)](0x17,0x3b,0x3b,0x3e7),_0x11b2c8=_0x11b2c8[_0x22db9a(0x1d3)](_0x5abca5=>_0x5abca5[_0x22db9a(0x1ef)]&&new Date(_0x5abca5[_0x22db9a(0x1ef)])>=_0x2c5d73&&new Date(_0x5abca5[_0x22db9a(0x1ef)])<=_0x1e2da8);}let _0xbe01d9=[..._0x11b2c8];_0x307be4&&(_0xbe01d9=_0xbe01d9[_0x22db9a(0x1d3)](_0x1da07c=>_0x1da07c[_0x22db9a(0x18d)]===_0x307be4));let _0x155d2f=processStudentData(_0x11b2c8);if(_0x307be4){const _0x51558d={};for(const _0x49442e in _0x155d2f){if(_0x155d2f[_0x49442e][_0x22db9a(0x18d)]===_0x307be4)_0x51558d[_0x49442e]=_0x155d2f[_0x49442e];}_0x155d2f=_0x51558d;}const _0x239e2c=processClassData(_0x155d2f);Object['values'](chartInstances)[_0x22db9a(0x28e)](_0x2878da=>{const _0x392131=_0x22db9a;if(_0x2878da)_0x2878da[_0x392131(0x204)]();}),chartInstances={},renderGlobalRekapTable(_0x239e2c),renderPercentageTable(_0x239e2c,_0x155d2f),renderGlobalChart(_0x239e2c,_0x307be4),renderAnalisisLaporanTable(_0xbe01d9),renderAnalisisIbadahCharts(_0xbe01d9),renderWaktuCharts(_0xbe01d9),renderKegiatanCharts(_0xbe01d9),renderBelajarMakananCharts(_0xbe01d9);}function renderAnalisisLaporanTable(_0x56c3cc){const _0x1042b4=_0x333291,_0x14f66b=document['getElementById'](_0x1042b4(0x24c)),_0x98905e=[_0x1042b4(0x1a1),_0x1042b4(0x254),_0x1042b4(0x25d),'Ibadah\x202','Ibadah\x203',_0x1042b4(0x1e8),'Ibadah\x205',_0x1042b4(0x276),_0x1042b4(0x2a0),_0x1042b4(0x20b),'Tidur\x20Cepat','Olahraga',_0x1042b4(0x1f8),_0x1042b4(0x258),_0x1042b4(0x228),_0x1042b4(0x236),'Susu',_0x1042b4(0x1d5),_0x1042b4(0x18e)];_0x14f66b['innerHTML']='<thead><tr>'+_0x98905e[_0x1042b4(0x2c4)](_0x2bc77e=>'<th>'+_0x2bc77e+_0x1042b4(0x213))['join']('')+_0x1042b4(0x2c3);const _0x35643c=_0x14f66b[_0x1042b4(0x1ca)]('tbody');if(_0x56c3cc['length']===0x0){_0x35643c['innerHTML']=_0x1042b4(0x249)+_0x98905e['length']+_0x1042b4(0x1df);return;}_0x56c3cc['forEach'](_0x2469a8=>{const _0x4ef703=_0x1042b4,_0x4e041e=_0x35643c['insertRow'](),_0x4ae4cf=[_0x2469a8['kelas'],_0x2469a8[_0x4ef703(0x1bd)],_0x2469a8[_0x4ef703(0x27e)],_0x2469a8[_0x4ef703(0x2b2)],_0x2469a8['ibadah3'],_0x2469a8[_0x4ef703(0x232)],_0x2469a8[_0x4ef703(0x1cd)],_0x2469a8[_0x4ef703(0x226)],_0x2469a8[_0x4ef703(0x1a6)],_0x2469a8[_0x4ef703(0x2af)],_0x2469a8[_0x4ef703(0x2d5)],_0x2469a8[_0x4ef703(0x250)],_0x2469a8[_0x4ef703(0x299)],((_0x2469a8['tempatBelajar']||'')+_0x4ef703(0x2c8)+(_0x2469a8[_0x4ef703(0x1c9)]||''))[_0x4ef703(0x210)](0x0,0x1e),_0x2469a8[_0x4ef703(0x28d)],_0x2469a8[_0x4ef703(0x22a)],_0x2469a8[_0x4ef703(0x23d)],_0x2469a8[_0x4ef703(0x1b0)],_0x2469a8[_0x4ef703(0x283)]];_0x4ae4cf['forEach']((_0x463e82,_0x5ace45)=>{const _0x420c1a=_0x4ef703,_0xa6d65f=_0x4e041e[_0x420c1a(0x1a8)]();if(typeof _0x463e82===_0x420c1a(0x25c))_0xa6d65f[_0x420c1a(0x216)]=_0x463e82?'Ya':'Tidak';else _0xa6d65f[_0x420c1a(0x216)]=_0x463e82||'-';});});}function renderAnalisisIbadahCharts(_0x57ba6b){const _0x26fc88=_0x333291,_0x18aa4d=document[_0x26fc88(0x1ad)](_0x26fc88(0x2a5));_0x18aa4d['innerHTML']='';const {ibadahSettings:_0x2c6e91,ibadahOptions:_0x321afc}=globalSettings;if(!_0x2c6e91||!_0x321afc){_0x18aa4d['innerHTML']='<p>Pengaturan\x20ibadah\x20tidak\x20ditemukan.</p>';return;}const _0x5798e7=_0x57ba6b[_0x26fc88(0x231)];if(_0x5798e7===0x0){_0x18aa4d[_0x26fc88(0x1d4)]=_0x26fc88(0x192);return;}for(let _0x20a442=0x1;_0x20a442<=0x7;_0x20a442++){if(!_0x2c6e91[_0x20a442-0x1])continue;const _0x44f175='ibadah'+_0x20a442,_0x4acfdb=_0x321afc[_0x44f175]||[],_0x375284='Analisis\x20Ibadah\x20'+_0x20a442,_0x1a1c10={};_0x4acfdb[_0x26fc88(0x28e)](_0xd2e4b3=>_0x1a1c10[_0xd2e4b3]=0x0);let _0x372691=0x0;_0x57ba6b['forEach'](_0x38d73f=>{const _0x2a62a9=_0x26fc88,_0x3b9c34=_0x38d73f[_0x44f175];_0x3b9c34&&_0x4acfdb[_0x2a62a9(0x214)](_0x3b9c34)?_0x1a1c10[_0x3b9c34]++:_0x372691++;});const _0x133ed6=[],_0x863383=[],_0x5e6f8c=['rgba(75,\x20192,\x20192,\x200.7)',_0x26fc88(0x1b2),_0x26fc88(0x21b),_0x26fc88(0x25a),_0x26fc88(0x19c),'rgba(255,\x2099,\x20132,\x200.7)'];let _0x4140aa=0x0;for(const _0x5f2e1b in _0x1a1c10){_0x1a1c10[_0x5f2e1b]>0x0&&(_0x133ed6['push'](_0x5f2e1b),_0x863383[_0x26fc88(0x2b0)](_0x1a1c10[_0x5f2e1b]),_0x4140aa++);}_0x372691>0x0&&(_0x133ed6['push'](_0x26fc88(0x2d4)),_0x863383[_0x26fc88(0x2b0)](_0x372691));if(_0x863383[_0x26fc88(0x231)]===0x0)continue;const _0x4190fc=document[_0x26fc88(0x282)](_0x26fc88(0x268));_0x4190fc[_0x26fc88(0x1ab)]=_0x26fc88(0x29a);const _0x458e3d=document[_0x26fc88(0x282)](_0x26fc88(0x24e));_0x4190fc[_0x26fc88(0x291)](_0x458e3d),_0x18aa4d['appendChild'](_0x4190fc),chartInstances[_0x26fc88(0x18f)+_0x20a442]=new Chart(_0x458e3d[_0x26fc88(0x24a)]('2d'),{'type':'pie','data':{'labels':_0x133ed6,'datasets':[{'data':_0x863383,'backgroundColor':_0x5e6f8c,'borderWidth':0x1}]},'options':{'responsive':!![],'maintainAspectRatio':![],'plugins':{'title':{'display':!![],'text':_0x375284,'font':{'size':0x10}},'legend':{'position':_0x26fc88(0x2be)}}}});}}function renderWaktuCharts(_0x1317b4){const _0x221d5e=_0x333291,_0x341b24=document[_0x221d5e(0x1ad)](_0x221d5e(0x191));_0x341b24[_0x221d5e(0x1d4)]='';const {waktu:waktu={}}=globalSettings,_0x7cffc5=waktu[_0x221d5e(0x2af)]||_0x221d5e(0x1fb),_0x21bedd=waktu['tidurCepat']||_0x221d5e(0x247),_0x15dd25=_0x1317b4['length'];if(_0x15dd25===0x0){_0x341b24[_0x221d5e(0x1d4)]=_0x221d5e(0x20a);return;}let _0x5885bd=0x0;_0x1317b4[_0x221d5e(0x28e)](_0x181870=>{const _0x380590=_0x221d5e;if(_0x181870[_0x380590(0x2af)]&&_0x181870[_0x380590(0x2af)]<=_0x7cffc5)_0x5885bd++;});let _0x3cc948=0x0;_0x1317b4[_0x221d5e(0x28e)](_0x37a408=>{const _0x2760e0=_0x221d5e;if(_0x37a408[_0x2760e0(0x2d5)]&&_0x37a408[_0x2760e0(0x2d5)]<=_0x21bedd)_0x3cc948++;});const _0x5cedbf=[{'title':_0x221d5e(0x29c),'labels':[_0x221d5e(0x263),_0x221d5e(0x1c2)],'data':[_0x5885bd,_0x15dd25-_0x5885bd]},{'title':'Analisis\x20Tidur\x20Cepat','labels':[_0x221d5e(0x263),_0x221d5e(0x1c2)],'data':[_0x3cc948,_0x15dd25-_0x3cc948]}];_0x5cedbf[_0x221d5e(0x28e)]((_0x57081b,_0x450494)=>{const _0x41932e=_0x221d5e,_0x293464=document[_0x41932e(0x282)]('div');_0x293464[_0x41932e(0x1ab)]='chart-wrapper';const _0x511fa6=document[_0x41932e(0x282)](_0x41932e(0x24e));_0x293464['appendChild'](_0x511fa6),_0x341b24[_0x41932e(0x291)](_0x293464),chartInstances[_0x41932e(0x1e6)+_0x450494]=new Chart(_0x511fa6['getContext']('2d'),{'type':_0x41932e(0x24b),'data':{'labels':_0x57081b[_0x41932e(0x2a3)],'datasets':[{'data':_0x57081b[_0x41932e(0x22f)],'backgroundColor':[_0x41932e(0x230),'rgba(255,\x2099,\x20132,\x200.7)'],'borderWidth':0x1}]},'options':{'responsive':!![],'maintainAspectRatio':![],'plugins':{'title':{'display':!![],'text':_0x57081b[_0x41932e(0x25e)],'font':{'size':0x10}}}}});});}function renderKegiatanCharts(_0xeadb42){const _0x22b1e9=_0x333291,_0x1662db=document[_0x22b1e9(0x1ad)](_0x22b1e9(0x28b));_0x1662db[_0x22b1e9(0x1d4)]='';const _0x1f342f=_0xeadb42[_0x22b1e9(0x231)];if(_0x1f342f===0x0){_0x1662db[_0x22b1e9(0x1d4)]='<p>Tidak\x20ada\x20data.</p>';return;}const _0x5e95f0=[{'key':_0x22b1e9(0x250),'title':'Kegiatan\x20Olahraga'},{'key':'kegiatanMasyarakat','title':_0x22b1e9(0x229)}];_0x5e95f0[_0x22b1e9(0x28e)]((_0x3b6638,_0x592fa4)=>{const _0x3a43f8=_0x22b1e9;let _0x12960d=0x0;_0xeadb42[_0x3a43f8(0x28e)](_0x37426e=>{const _0x52596a=_0x3a43f8;if(_0x37426e[_0x3b6638['key']]&&_0x37426e[_0x3b6638[_0x52596a(0x288)]][_0x52596a(0x1c5)]())_0x12960d++;});const _0x1170f6=document['createElement'](_0x3a43f8(0x268));_0x1170f6['className']=_0x3a43f8(0x29a);const _0x1834ab=document['createElement'](_0x3a43f8(0x24e));_0x1170f6[_0x3a43f8(0x291)](_0x1834ab),_0x1662db['appendChild'](_0x1170f6),chartInstances['kegiatan'+_0x592fa4]=new Chart(_0x1834ab[_0x3a43f8(0x24a)]('2d'),{'type':_0x3a43f8(0x2ae),'data':{'labels':[_0x3a43f8(0x19b),_0x3a43f8(0x2d4)],'datasets':[{'data':[_0x12960d,_0x1f342f-_0x12960d],'backgroundColor':[_0x3a43f8(0x25a),'rgba(201,\x20203,\x20207,\x200.7)'],'borderWidth':0x1}]},'options':{'responsive':!![],'maintainAspectRatio':![],'plugins':{'title':{'display':!![],'text':_0x3b6638[_0x3a43f8(0x25e)],'font':{'size':0x10}}}}});});}function renderBelajarMakananCharts(_0x2d9c72){const _0x1158f9=_0x333291,_0x4deff6=document[_0x1158f9(0x1ad)]('belajar-makanan-charts-container');_0x4deff6[_0x1158f9(0x1d4)]='';const _0x402d33=_0x2d9c72['length'];if(_0x402d33===0x0){_0x4deff6[_0x1158f9(0x1d4)]=_0x1158f9(0x20a);return;}let _0x4c9ba8=0x0;_0x2d9c72['forEach'](_0x293119=>{const _0x24f2fd=_0x1158f9;if(_0x293119[_0x24f2fd(0x2b8)]&&_0x293119[_0x24f2fd(0x2b8)][_0x24f2fd(0x1c5)]()||_0x293119[_0x24f2fd(0x1c9)]&&_0x293119[_0x24f2fd(0x1c9)][_0x24f2fd(0x1c5)]())_0x4c9ba8++;});const _0x319090=document[_0x1158f9(0x282)](_0x1158f9(0x268));_0x319090[_0x1158f9(0x1ab)]=_0x1158f9(0x29a);const _0x47025b=document[_0x1158f9(0x282)](_0x1158f9(0x24e));_0x319090[_0x1158f9(0x291)](_0x47025b),_0x4deff6[_0x1158f9(0x291)](_0x319090),chartInstances['belajar']=new Chart(_0x47025b['getContext']('2d'),{'type':_0x1158f9(0x24b),'data':{'labels':['Belajar',_0x1158f9(0x1a5)],'datasets':[{'data':[_0x4c9ba8,_0x402d33-_0x4c9ba8],'backgroundColor':['rgba(153,\x20102,\x20255,\x200.7)',_0x1158f9(0x1dd)],'borderWidth':0x1}]},'options':{'responsive':!![],'maintainAspectRatio':![],'plugins':{'title':{'display':!![],'text':_0x1158f9(0x1b3),'font':{'size':0x10}}}}});const _0x3c1cbb={'Karbo':0x0,'Sayur/Buah':0x0,'Susu':0x0,'Lauk\x20Pauk':0x0,'Air\x20Putih':0x0};_0x2d9c72[_0x1158f9(0x28e)](_0x4e00eb=>{const _0x15b15d=_0x1158f9;if(_0x4e00eb[_0x15b15d(0x28d)])_0x3c1cbb[_0x15b15d(0x228)]++;if(_0x4e00eb[_0x15b15d(0x22a)])_0x3c1cbb[_0x15b15d(0x236)]++;if(_0x4e00eb[_0x15b15d(0x23d)])_0x3c1cbb[_0x15b15d(0x220)]++;if(_0x4e00eb[_0x15b15d(0x1b0)])_0x3c1cbb[_0x15b15d(0x1d5)]++;if(_0x4e00eb[_0x15b15d(0x283)])_0x3c1cbb[_0x15b15d(0x18e)]++;});const _0x1b4733=document['createElement'](_0x1158f9(0x268));_0x1b4733[_0x1158f9(0x1ab)]=_0x1158f9(0x29a);const _0x3c4e2f=document[_0x1158f9(0x282)](_0x1158f9(0x24e));_0x1b4733[_0x1158f9(0x291)](_0x3c4e2f),_0x4deff6['appendChild'](_0x1b4733),chartInstances[_0x1158f9(0x26f)]=new Chart(_0x3c4e2f['getContext']('2d'),{'type':'bar','data':{'labels':Object[_0x1158f9(0x217)](_0x3c1cbb),'datasets':[{'label':_0x1158f9(0x1ee),'data':Object[_0x1158f9(0x292)](_0x3c1cbb),'backgroundColor':'rgba(255,\x20159,\x2064,\x200.7)','borderWidth':0x1}]},'options':{'indexAxis':'y','responsive':!![],'maintainAspectRatio':![],'plugins':{'legend':{'display':![]},'title':{'display':!![],'text':_0x1158f9(0x203),'font':{'size':0x10}}}}});}function renderGlobalRekapTable(_0x7047d0){const _0x2fd7b9=_0x333291,_0x2ccdcb=document[_0x2fd7b9(0x1ad)]('globalRekapTable'),_0x465311=['Kelas',_0x2fd7b9(0x1c7),_0x2fd7b9(0x208),_0x2fd7b9(0x20b),_0x2fd7b9(0x240),_0x2fd7b9(0x258),_0x2fd7b9(0x2b7),_0x2fd7b9(0x1c0)];_0x2ccdcb[_0x2fd7b9(0x1d4)]=_0x2fd7b9(0x2ab)+_0x465311[_0x2fd7b9(0x2c4)](_0x359246=>_0x2fd7b9(0x1e0)+_0x359246+_0x2fd7b9(0x213))['join']('')+_0x2fd7b9(0x2c3);const _0x8f7779=_0x2ccdcb[_0x2fd7b9(0x1ca)](_0x2fd7b9(0x2c0));if(Object[_0x2fd7b9(0x217)](_0x7047d0)[_0x2fd7b9(0x231)]===0x0){_0x8f7779['innerHTML']=_0x2fd7b9(0x249)+_0x465311[_0x2fd7b9(0x231)]+'\x22\x20class=\x22text-center\x22>Tidak\x20ada\x20data.</td></tr>';return;}Object[_0x2fd7b9(0x217)](_0x7047d0)['sort']()[_0x2fd7b9(0x28e)](_0x3826fc=>{const _0x3d6cfb=_0x2fd7b9,_0x1f19d7=_0x8f7779[_0x3d6cfb(0x198)]();_0x1f19d7[_0x3d6cfb(0x1a8)]()[_0x3d6cfb(0x216)]=_0x3826fc;const _0x190fef=[_0x3d6cfb(0x238),_0x3d6cfb(0x2d5),'bangunPagi','olahraga','belajar',_0x3d6cfb(0x19a),_0x3d6cfb(0x272)];_0x190fef[_0x3d6cfb(0x28e)](_0x3b738b=>{const _0x488546=_0x3d6cfb,_0x17d8e3=_0x1f19d7[_0x488546(0x1a8)](),_0x4c9186=_0x7047d0[_0x3826fc][_0x3b738b];let _0x3978a0=_0x488546(0x1c4),_0x4f857e=0x0;if(_0x4c9186)for(const _0x4f5a14 in _0x4c9186){_0x4c9186[_0x4f5a14]>_0x4f857e&&(_0x4f857e=_0x4c9186[_0x4f5a14],_0x3978a0=_0x4f5a14);}_0x17d8e3['textContent']=_0x3978a0;});});}function renderPercentageTable(_0x232fca,_0x10fe1f){const _0x357925=_0x333291,_0x2485d7=document[_0x357925(0x1ad)](_0x357925(0x1cc)),{predikat:predikat={}}=globalSettings,_0xc7cee5=predikat[_0x357925(0x297)]||_0x357925(0x221),_0x94c07e=predikat[_0x357925(0x248)]||_0x357925(0x1d6),_0x34ab53=predikat[_0x357925(0x28c)]||_0x357925(0x279),_0x5aac82=[_0x357925(0x2ba),_0xc7cee5,_0x94c07e,_0x34ab53];_0x2485d7[_0x357925(0x1d4)]='<thead><tr>'+_0x5aac82[_0x357925(0x2c4)](_0x1ea072=>_0x357925(0x1e0)+_0x1ea072+'</th>')[_0x357925(0x262)]('')+'</tr></thead><tbody></tbody>';const _0x2f7dd8=_0x2485d7[_0x357925(0x1ca)](_0x357925(0x2c0)),_0x3c3f68=Object[_0x357925(0x217)](_0x10fe1f)[_0x357925(0x231)];if(_0x3c3f68===0x0){_0x2f7dd8[_0x357925(0x1d4)]=_0x357925(0x1a4),renderKesimpulan(null);return;}const _0x36fe35=[_0x357925(0x1c7),_0x357925(0x208),_0x357925(0x20b),_0x357925(0x240),'Belajar','Bermasyarakat',_0x357925(0x1c0)],_0x321773=[_0x357925(0x238),_0x357925(0x2d5),'bangunPagi','olahraga',_0x357925(0x23f),_0x357925(0x19a),_0x357925(0x272)],_0xb44d2c=[];_0x321773[_0x357925(0x28e)]((_0x405a59,_0x400964)=>{const _0x42935b=_0x357925;let _0x16ee5e=0x0,_0x403862=0x0,_0x303ec0=0x0;Object[_0x42935b(0x292)](_0x232fca)[_0x42935b(0x28e)](_0x58e57a=>{_0x58e57a[_0x405a59]&&(_0x16ee5e+=_0x58e57a[_0x405a59][_0xc7cee5]||0x0,_0x403862+=_0x58e57a[_0x405a59][_0x94c07e]||0x0,_0x303ec0+=_0x58e57a[_0x405a59][_0x34ab53]||0x0);});const _0x53af3c=_0x16ee5e/_0x3c3f68*0x64,_0x1ebd59=_0x403862/_0x3c3f68*0x64,_0xcd99e2=_0x303ec0/_0x3c3f68*0x64;_0xb44d2c[_0x42935b(0x2b0)]({'label':_0x36fe35[_0x400964],'taat':_0x53af3c,'kurang':_0xcd99e2});const _0x4c950c=_0x2f7dd8[_0x42935b(0x198)]();_0x4c950c[_0x42935b(0x1a8)]()['textContent']=_0x36fe35[_0x400964],_0x4c950c[_0x42935b(0x1a8)]()['textContent']=_0x53af3c[_0x42935b(0x26a)](0x1)+_0x42935b(0x2d3)+_0x16ee5e+_0x42935b(0x1a7),_0x4c950c[_0x42935b(0x1a8)]()[_0x42935b(0x216)]=_0x1ebd59[_0x42935b(0x26a)](0x1)+_0x42935b(0x2d3)+_0x403862+_0x42935b(0x1a7),_0x4c950c['insertCell']()[_0x42935b(0x216)]=_0xcd99e2[_0x42935b(0x26a)](0x1)+'%\x20('+_0x303ec0+_0x42935b(0x1a7);}),renderKesimpulan(_0xb44d2c,_0x3c3f68);}function renderKesimpulan(_0xc2d19d,_0x2229e4){const _0x2e1662=_0x333291,_0x1713d6=document[_0x2e1662(0x1ad)]('kesimpulan-content');if(!_0xc2d19d||_0x2229e4===0x0){_0x1713d6['innerHTML']=_0x2e1662(0x2a1);return;}let _0x5d2d85={'label':'','value':-0x1},_0x3bae08={'label':'','value':-0x1};_0xc2d19d[_0x2e1662(0x28e)](_0x1763bd=>{const _0x16ded0=_0x2e1662;if(_0x1763bd[_0x16ded0(0x1b9)]>_0x5d2d85[_0x16ded0(0x1dc)])_0x5d2d85={'label':_0x1763bd[_0x16ded0(0x2a6)],'value':_0x1763bd['taat']};if(_0x1763bd[_0x16ded0(0x274)]>_0x3bae08['value'])_0x3bae08={'label':_0x1763bd[_0x16ded0(0x2a6)],'value':_0x1763bd[_0x16ded0(0x274)]};}),_0x1713d6['innerHTML']='<p>Berdasarkan\x20data\x20dari\x20<strong>'+_0x2229e4+_0x2e1662(0x234)+_0x5d2d85[_0x2e1662(0x2a6)]+_0x2e1662(0x23a)+_0x5d2d85[_0x2e1662(0x1dc)]['toFixed'](0x1)+'%\x20\x27Anak\x20Hebat\x27).</p><p><strong>Perlu\x20Peningkatan:</strong>\x20<strong>'+_0x3bae08['label']+_0x2e1662(0x23a)+_0x3bae08[_0x2e1662(0x1dc)][_0x2e1662(0x26a)](0x1)+_0x2e1662(0x195);}function renderGlobalChart(_0x40ccf2,_0x156b73){const _0x5ae684=_0x333291,{predikat:predikat={}}=globalSettings,_0x2e2aa6=predikat['taatText']||_0x5ae684(0x221),_0x5f2b1d=predikat['terbiasaText']||_0x5ae684(0x1d6),_0x525130=predikat['kurangText']||_0x5ae684(0x279),_0x2a70dd=['Beribadah','Tidur\x20Cepat',_0x5ae684(0x20b),_0x5ae684(0x240),'Belajar',_0x5ae684(0x2b7),_0x5ae684(0x1c0)],_0x4eee10=['beribadah',_0x5ae684(0x2d5),_0x5ae684(0x2af),_0x5ae684(0x22d),_0x5ae684(0x23f),_0x5ae684(0x19a),'makanBergizi'],_0xfe6903=[],_0x21c896=[],_0x405c63=[];_0x4eee10['forEach'](_0x32526b=>{const _0x20f10e=_0x5ae684;let _0x2f8e60=0x0,_0x13f595=0x0,_0x339961=0x0;Object[_0x20f10e(0x292)](_0x40ccf2)[_0x20f10e(0x28e)](_0x5d7d26=>{_0x5d7d26[_0x32526b]&&(_0x2f8e60+=_0x5d7d26[_0x32526b][_0x2e2aa6]||0x0,_0x13f595+=_0x5d7d26[_0x32526b][_0x5f2b1d]||0x0,_0x339961+=_0x5d7d26[_0x32526b][_0x525130]||0x0);}),_0xfe6903[_0x20f10e(0x2b0)](_0x2f8e60),_0x21c896[_0x20f10e(0x2b0)](_0x13f595),_0x405c63['push'](_0x339961);});const _0x15cc60=document['getElementById'](_0x5ae684(0x1f0))[_0x5ae684(0x24a)]('2d');if(chartInstances[_0x5ae684(0x2c2)])chartInstances['global']['destroy']();chartInstances[_0x5ae684(0x2c2)]=new Chart(_0x15cc60,{'type':_0x5ae684(0x2a9),'data':{'labels':_0x2a70dd,'datasets':[{'label':_0x2e2aa6,'data':_0xfe6903,'backgroundColor':'rgba(22,\x20163,\x2074,\x200.7)'},{'label':_0x5f2b1d,'data':_0x21c896,'backgroundColor':_0x5ae684(0x2d2)},{'label':_0x525130,'data':_0x405c63,'backgroundColor':_0x5ae684(0x200)}]},'options':{'responsive':!![],'maintainAspectRatio':![],'scales':{'x':{'stacked':!![]},'y':{'stacked':!![],'beginAtZero':!![]}},'plugins':{'title':{'display':!![],'text':'Grafik\x20Predikat\x20-\x20'+(_0x156b73||_0x5ae684(0x252)),'font':{'size':0x12}}}}});}function downloadGlobalRekapPDF(){const _0x292095=_0x333291,{jsPDF:_0x53dabb}=window[_0x292095(0x223)],_0x57c8aa=new _0x53dabb({'orientation':'landscape'}),_0x51c21d=globalSettings['infoSekolah']||{},_0x46014c=document['getElementById'](_0x292095(0x21a))['value']&&document['getElementById'](_0x292095(0x280))[_0x292095(0x1dc)]?_0x292095(0x277)+document[_0x292095(0x1ad)](_0x292095(0x21a))[_0x292095(0x1dc)]+_0x292095(0x21e)+document['getElementById'](_0x292095(0x280))[_0x292095(0x1dc)]:'';_0x57c8aa[_0x292095(0x1f7)](0x10),_0x57c8aa[_0x292095(0x202)](_0x51c21d['namaSekolah']||'Laporan\x207KAIH',_0x57c8aa[_0x292095(0x29e)][_0x292095(0x1b8)][_0x292095(0x2c6)]()/0x2,0xf,{'align':_0x292095(0x1e1)});if(_0x46014c)_0x57c8aa['text'](_0x46014c,_0x57c8aa['internal'][_0x292095(0x1b8)][_0x292095(0x2c6)]()/0x2,0x16,{'align':_0x292095(0x1e1)});_0x57c8aa[_0x292095(0x27b)]({'html':_0x292095(0x26e),'startY':0x23});let _0x464663=_0x57c8aa['autoTable'][_0x292095(0x2cb)]['finalY'];_0x57c8aa[_0x292095(0x27b)]({'html':_0x292095(0x227),'startY':_0x464663+0xa}),_0x57c8aa[_0x292095(0x27a)]('Laporan_Global_Kepsek_'+Date[_0x292095(0x260)]()+_0x292095(0x264));}function processStudentData(_0x1b0d17){const _0xfbc378=_0x333291,{ibadahSettings:ibadahSettings=[],waktu:waktu={}}=globalSettings,_0x2eff4e=ibadahSettings[_0xfbc378(0x1d3)](_0x43c4a7=>_0x43c4a7)[_0xfbc378(0x231)],_0x31c054=waktu[_0xfbc378(0x2af)]||'05:00',_0x36bfd4=waktu[_0xfbc378(0x2d5)]||_0xfbc378(0x247),_0x23d462={};return _0x1b0d17[_0xfbc378(0x28e)](_0x237efe=>{const _0x568b02=_0xfbc378;if(!_0x237efe[_0x568b02(0x18d)]||!_0x237efe[_0x568b02(0x1bd)])return;const _0x4e1c49=_0x237efe[_0x568b02(0x18d)]+'-'+_0x237efe[_0x568b02(0x1bd)];if(!_0x23d462[_0x4e1c49])_0x23d462[_0x4e1c49]={'kelas':_0x237efe['kelas'],'nama':_0x237efe['namaSiswa'],'totalHari':0x0,'beribadah':0x0,'tidurCepat':0x0,'bangunPagi':0x0,'olahraga':0x0,'belajar':0x0,'bermasyarakat':0x0,'makanBergizi':0x0};const _0x79678=_0x23d462[_0x4e1c49];_0x79678[_0x568b02(0x2c1)]++;let _0x5aaef2=0x0;for(let _0x427d8d=0x0;_0x427d8d<0x7;_0x427d8d++){if(ibadahSettings[_0x427d8d]&&String(_0x237efe['ibadah'+(_0x427d8d+0x1)]||'')[_0x568b02(0x1c5)]())_0x5aaef2++;}if(_0x2eff4e>0x0&&_0x5aaef2>=_0x2eff4e)_0x79678[_0x568b02(0x238)]++;if(_0x237efe['bangunPagi']&&_0x237efe[_0x568b02(0x2af)]<=_0x31c054)_0x79678['bangunPagi']++;if(_0x237efe['tidurCepat']&&_0x237efe[_0x568b02(0x2d5)]<=_0x36bfd4)_0x79678[_0x568b02(0x2d5)]++;if(String(_0x237efe[_0x568b02(0x250)]||'')[_0x568b02(0x1c5)]())_0x79678[_0x568b02(0x22d)]++;if(String(_0x237efe['tempatBelajar']||'')[_0x568b02(0x1c5)]()&&String(_0x237efe[_0x568b02(0x1c9)]||'')[_0x568b02(0x1c5)]())_0x79678['belajar']++;if(String(_0x237efe[_0x568b02(0x299)]||'')[_0x568b02(0x1c5)]())_0x79678['bermasyarakat']++;if(_0x237efe['makananKarbo']&&_0x237efe['makananSayur']&&_0x237efe[_0x568b02(0x23d)]&&_0x237efe[_0x568b02(0x1b0)]&&_0x237efe[_0x568b02(0x283)])_0x79678[_0x568b02(0x272)]++;}),_0x23d462;}function processClassData(_0x464cb3){const _0x228f9e=_0x333291,{predikat:predikat={}}=globalSettings,_0x247f95={},_0x443d65=[_0x228f9e(0x238),_0x228f9e(0x2d5),_0x228f9e(0x2af),_0x228f9e(0x22d),_0x228f9e(0x23f),_0x228f9e(0x19a),'makanBergizi'];for(const _0x382fe2 in _0x464cb3){const _0x2189fa=_0x464cb3[_0x382fe2];!_0x247f95[_0x2189fa[_0x228f9e(0x18d)]]&&(_0x247f95[_0x2189fa['kelas']]={},_0x443d65[_0x228f9e(0x28e)](_0x5953e6=>_0x247f95[_0x2189fa[_0x228f9e(0x18d)]][_0x5953e6]={})),_0x443d65[_0x228f9e(0x28e)](_0x590ac9=>{const _0x273b67=_0x228f9e;let _0x24f994=predikat[_0x273b67(0x28c)]||_0x273b67(0x279);if(_0x2189fa[_0x273b67(0x2c1)]>0x0){const _0x272f73=_0x2189fa[_0x590ac9]/_0x2189fa['totalHari']*0x64;if(_0x272f73>=(predikat[_0x273b67(0x197)]||0x55))_0x24f994=predikat['taatText']||_0x273b67(0x221);else _0x272f73>=(predikat[_0x273b67(0x218)]||0x46)&&(_0x24f994=predikat[_0x273b67(0x248)]||'Terbiasa');}_0x247f95[_0x2189fa[_0x273b67(0x18d)]][_0x590ac9][_0x24f994]=(_0x247f95[_0x2189fa[_0x273b67(0x18d)]][_0x590ac9][_0x24f994]||0x0)+0x1;});}return _0x247f95;}function filterSupervisiTable(){const _0x2eb080=_0x333291,_0x389c84=document[_0x2eb080(0x1ad)](_0x2eb080(0x19d))[_0x2eb080(0x1dc)],_0x1444a0=document[_0x2eb080(0x266)](_0x2eb080(0x1f9));_0x1444a0[_0x2eb080(0x28e)](_0x2936a0=>{const _0x4cc8ee=_0x2eb080,_0x372e9c=_0x2936a0[_0x4cc8ee(0x266)]('tbody\x20tr');_0x372e9c['forEach'](_0x174af5=>{const _0x5aae1f=_0x4cc8ee;_0x174af5[_0x5aae1f(0x270)]['display']=_0x389c84===''||_0x174af5[_0x5aae1f(0x1af)][_0x5aae1f(0x239)]===_0x389c84?'':_0x5aae1f(0x278);});});}function renderSupervisiGuru(){const _0x34dd29=_0x333291,_0x39f491=document['getElementById'](_0x34dd29(0x244));_0x39f491[_0x34dd29(0x1d4)]=_0x34dd29(0x21f);const _0x188f54=(globalSettings[_0x34dd29(0x23c)]?.['administrasi']||[])[_0x34dd29(0x1d3)](_0xea45ea=>_0xea45ea?.[_0x34dd29(0x267)]),_0x5c95ef=(globalSettings[_0x34dd29(0x23c)]?.['kegiatan']||[])[_0x34dd29(0x1d3)](_0x4d279a=>_0x4d279a?.[_0x34dd29(0x267)]);let _0x39dee3=_0x34dd29(0x2ac);_0x188f54['forEach'](_0x22ba54=>{const _0x4fe3f9=_0x34dd29;_0x39dee3+=_0x4fe3f9(0x1e0)+_0x22ba54['nama']+_0x4fe3f9(0x213);}),_0x39dee3+=_0x34dd29(0x1bc),allGuruData[_0x34dd29(0x28e)](_0x46ffa5=>{const _0x515b8a=_0x34dd29;_0x39dee3+='<tr\x20data-nip=\x22'+_0x46ffa5[_0x515b8a(0x239)]+'\x22><td>'+_0x46ffa5[_0x515b8a(0x2a7)]+'</td>';const _0x19d165=allGuruAdmData[_0x46ffa5[_0x515b8a(0x239)]]||{};_0x188f54[_0x515b8a(0x28e)](_0x18a71b=>{const _0x254ac3=_0x515b8a,_0x295a73=_0x19d165[_0x18a71b['id']]||{};let _0x23a075=_0x254ac3(0x1da),_0x3bf6f3='Belum\x20ada\x20link';if(_0x295a73['url'])switch(_0x295a73['status']){case'Disetujui':_0x23a075=_0x254ac3(0x245),_0x3bf6f3='Disetujui';break;case'Diperbaiki':case _0x254ac3(0x293):_0x23a075=_0x254ac3(0x1e5),_0x3bf6f3=_0x254ac3(0x205);break;case _0x254ac3(0x1e7):_0x23a075=_0x254ac3(0x1b4),_0x3bf6f3=_0x254ac3(0x1e7);break;default:_0x23a075=_0x254ac3(0x1a9),_0x3bf6f3=_0x254ac3(0x1c8);}_0x39dee3+=_0x254ac3(0x237)+_0x23a075+'\x20status-icon\x22\x20title=\x22'+_0x3bf6f3+_0x254ac3(0x29d)+_0x46ffa5['nip']+'\x27,\x20\x27'+_0x46ffa5[_0x254ac3(0x2a7)]+_0x254ac3(0x2d0)+_0x18a71b['id']+_0x254ac3(0x2d0)+_0x18a71b[_0x254ac3(0x2a7)]+_0x254ac3(0x1d8);}),_0x39dee3+=_0x515b8a(0x251);}),_0x39dee3+=_0x34dd29(0x22c);let _0x470af7=_0x34dd29(0x219);_0x5c95ef[_0x34dd29(0x28e)](_0x1adb6e=>{const _0x3c3e6c=_0x34dd29;_0x470af7+=_0x3c3e6c(0x1e0)+_0x1adb6e[_0x3c3e6c(0x2a7)]+_0x3c3e6c(0x213);}),_0x470af7+='</tr></thead><tbody>',allGuruData[_0x34dd29(0x28e)](_0x402964=>{const _0x4f72d0=_0x34dd29;_0x470af7+=_0x4f72d0(0x1d9)+_0x402964[_0x4f72d0(0x239)]+'\x22><td>'+_0x402964[_0x4f72d0(0x2a7)]+'</td>';const _0x4d3056=allGuruSupervisiData[_0x402964['nip']]||{};_0x5c95ef['forEach'](_0x496f5f=>{const _0x494b42=_0x4f72d0,_0x473699=_0x4d3056[_0x496f5f['id']]||{};let _0x49fd52='fas\x20fa-exclamation-circle\x20text-muted',_0x4602d4=_0x494b42(0x2ce);(_0x473699['urlDokumen']||_0x473699['urlFoto'])&&(_0x49fd52=_0x473699[_0x494b42(0x2bc)]?_0x494b42(0x18c):'fas\x20fa-tasks\x20text-info',_0x4602d4=_0x473699[_0x494b42(0x2bc)]?_0x494b42(0x224)+_0x473699[_0x494b42(0x2bc)]:_0x494b42(0x190)),_0x470af7+=_0x494b42(0x237)+_0x49fd52+_0x494b42(0x20e)+_0x4602d4+_0x494b42(0x269)+_0x402964[_0x494b42(0x239)]+'\x27,\x20\x27'+_0x402964['nama']+_0x494b42(0x2d0)+_0x496f5f['id']+_0x494b42(0x2d0)+_0x496f5f[_0x494b42(0x2a7)]+_0x494b42(0x1d8);}),_0x470af7+=_0x4f72d0(0x251);}),_0x470af7+=_0x34dd29(0x22c),_0x39f491[_0x34dd29(0x1d4)]=_0x39dee3+_0x470af7,filterSupervisiTable();}function openAdmModal(_0x33fa0a,_0x19b657,_0x46e755,_0x4416d7){const _0x55d0ac=_0x333291,_0xf337b7=allGuruAdmData[_0x33fa0a]?.[_0x46e755]||{};document[_0x55d0ac(0x1ad)](_0x55d0ac(0x2a2))[_0x55d0ac(0x216)]=_0x55d0ac(0x1c1)+_0x4416d7,document['getElementById'](_0x55d0ac(0x28f))[_0x55d0ac(0x1d4)]=_0xf337b7[_0x55d0ac(0x23b)]?'<a\x20href=\x22'+_0xf337b7['url']+_0x55d0ac(0x26c)+_0x19b657+'\x20<i\x20class=\x22fas\x20fa-external-link-alt\x20fa-xs\x22></i></a>':_0x55d0ac(0x199),document[_0x55d0ac(0x1ad)](_0x55d0ac(0x2cf))[_0x55d0ac(0x1dc)]=_0xf337b7[_0x55d0ac(0x253)]||'Belum\x20Diperiksa',document['getElementById']('admModalKomentar')[_0x55d0ac(0x1dc)]=_0xf337b7[_0x55d0ac(0x1e3)]||'',document['getElementById'](_0x55d0ac(0x1f2))[_0x55d0ac(0x1f3)]=()=>saveAdmChanges(_0x33fa0a,_0x46e755),openModal(_0x55d0ac(0x1f6));}function _0x2a01(_0x8cf086,_0x51bbd4){const _0x31824e=_0x3182();return _0x2a01=function(_0x2a012b,_0x4a8a33){_0x2a012b=_0x2a012b-0x18c;let _0x530bed=_0x31824e[_0x2a012b];return _0x530bed;},_0x2a01(_0x8cf086,_0x51bbd4);}function openSupervisiModal(_0x314c6a,_0x4665df,_0x2940f2,_0x1960f5){const _0x330101=_0x333291,_0x1bb5f5=allGuruSupervisiData[_0x314c6a]?.[_0x2940f2]||{};document[_0x330101(0x1ad)]('supervisiModalTitle')['textContent']=_0x330101(0x2b9)+_0x1960f5;const _0x441fd6=_0x1bb5f5[_0x330101(0x273)]?_0x330101(0x1e4)+_0x1bb5f5[_0x330101(0x273)]+_0x330101(0x222):_0x330101(0x1bf),_0x26b5d4=_0x1bb5f5[_0x330101(0x29f)]?'<a\x20href=\x22'+_0x1bb5f5[_0x330101(0x29f)]+_0x330101(0x193):'Belum\x20ada\x20link\x20foto.';document[_0x330101(0x1ad)]('supervisiModalLinks')[_0x330101(0x1d4)]=_0x441fd6+_0x330101(0x2b3)+_0x26b5d4,document[_0x330101(0x1ad)](_0x330101(0x1be))[_0x330101(0x1dc)]=_0x1bb5f5[_0x330101(0x21c)]||'',document['getElementById']('supervisiModalNilai')[_0x330101(0x1dc)]=_0x1bb5f5[_0x330101(0x2bc)]||'',document[_0x330101(0x1ad)]('supervisiModalKomentar')[_0x330101(0x1dc)]=_0x1bb5f5['komentar']||'',document[_0x330101(0x1ad)](_0x330101(0x271))[_0x330101(0x1f3)]=()=>saveSupervisiChanges(_0x314c6a,_0x2940f2),openModal('supervisiModal');}async function saveAdmChanges(_0x24819c,_0x1928d0){const _0x380607=_0x333291,_0xc24a9c=document[_0x380607(0x1ad)](_0x380607(0x2cf))['value'],_0x6c7b4=document[_0x380607(0x1ad)](_0x380607(0x1d2))[_0x380607(0x1dc)],_0x186f33=db[_0x380607(0x1f1)](_0x380607(0x19f))[_0x380607(0x2c5)](_0x24819c);try{const _0x9737e5={[_0x1928d0+'.status']:_0xc24a9c,[_0x1928d0+_0x380607(0x275)]:_0x6c7b4};await _0x186f33[_0x380607(0x25b)](_0x9737e5);if(!allGuruAdmData[_0x24819c])allGuruAdmData[_0x24819c]={};if(!allGuruAdmData[_0x24819c][_0x1928d0])allGuruAdmData[_0x24819c][_0x1928d0]={};allGuruAdmData[_0x24819c][_0x1928d0][_0x380607(0x253)]=_0xc24a9c,allGuruAdmData[_0x24819c][_0x1928d0][_0x380607(0x1e3)]=_0x6c7b4,closeModal(_0x380607(0x1f6)),renderSupervisiGuru(),showInfoModal(_0x380607(0x1e9),_0x380607(0x235));}catch(_0x4457ab){_0x4457ab['code']==='not-found'?showInfoModal(_0x380607(0x20d),_0x380607(0x26d)):showInfoModal(_0x380607(0x27d)+_0x4457ab['message'],_0x380607(0x26d));}}async function saveSupervisiChanges(_0x5a21d3,_0x4ecb25){const _0xd47673=_0x333291,_0x34d309=document['getElementById'](_0xd47673(0x1be))[_0xd47673(0x1dc)],_0x5cf977=document[_0xd47673(0x1ad)](_0xd47673(0x1ec))[_0xd47673(0x1dc)],_0x1cb6e1=document[_0xd47673(0x1ad)](_0xd47673(0x2b5))[_0xd47673(0x1dc)],_0x58f915=db[_0xd47673(0x1f1)](_0xd47673(0x1d0))[_0xd47673(0x2c5)](_0x5a21d3);try{const _0x1ed222={[_0x4ecb25+_0xd47673(0x2aa)]:_0x34d309,[_0x4ecb25+_0xd47673(0x2c9)]:_0x5cf977,[_0x4ecb25+_0xd47673(0x275)]:_0x1cb6e1};await _0x58f915[_0xd47673(0x25b)](_0x1ed222);const _0x3923b5=allGuruSupervisiData[_0x5a21d3]?.[_0x4ecb25]||{};if(!allGuruSupervisiData[_0x5a21d3])allGuruSupervisiData[_0x5a21d3]={};allGuruSupervisiData[_0x5a21d3][_0x4ecb25]={..._0x3923b5,'tanggal':_0x34d309,'nilai':_0x5cf977,'komentar':_0x1cb6e1},closeModal('supervisiModal'),renderSupervisiGuru(),showInfoModal(_0xd47673(0x2ca),'Sukses');}catch(_0x14077e){if(_0x14077e[_0xd47673(0x287)]==='not-found'){const _0x53cbb3={[_0x4ecb25]:{'tanggal':_0x34d309,'nilai':_0x5cf977,'komentar':_0x1cb6e1}};await _0x58f915[_0xd47673(0x2a4)](_0x53cbb3,{'merge':!![]}),allGuruSupervisiData[_0x5a21d3]={...allGuruSupervisiData[_0x5a21d3],..._0x53cbb3},closeModal(_0xd47673(0x1a2)),renderSupervisiGuru(),showInfoModal(_0xd47673(0x22b),'Sukses');}else showInfoModal(_0xd47673(0x27d)+_0x14077e[_0xd47673(0x255)],_0xd47673(0x26d));}}
    </script>
</body>
</html>

